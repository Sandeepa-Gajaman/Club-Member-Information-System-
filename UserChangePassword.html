<!DOCTYPE html>
<html lang= "en">
<head>
<title>Change Password</title>
<meta charset= "utf-8">
<meta name= "viewport" content= "width=device-width, initial-scale= 1"> 							<!--Compatibility for devices with small screens-->
<link rel= "stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><!--Linking the bootstrap libraries throug CDN-->
<script src= "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src= "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
<link rel= "stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel= "stylesheet" type= "text/css" href= "LoginStyle.css">
<link rel= "stylesheet" href="css/NavbarStyle.css"
<link href= "formicon.css" rel="stylesheet">

 <style>
.requiredField{color: red;}

.header{width: 100px;}
.footer{position: fixed; padding-top: 5px; bottom: 0; width: 100%; background-color: #222; color: white; height: 65px;}
.myNavBar{background-color: #708090; text-color: white;}
.my{color: white;}
.row {border:3px solid black;}
.form-group i{position:relative; left:120px;top:-44px; cursor: pointer; }
.button1{width: 125px;}
</style>
</head>

<body>
<script>

function checkPassword(){
	password= document.getElementById("password").value;
	//alert(password);
	
	if(password.length==""){
	//alert(password);
		document.getElementById("newpass").innerHTML= "Password should be between 5- 10 characters!";
		errors= false;
	}
	else if(password.length< 5 || password.length> 10){
		document.getElementById("newpass").innerHTML= "Password should be between 5- 10 characters!";
		errors= false;
	}
	else{
		document.getElementById("newpass").innerHTML= "";
		errors= true;
	}
}

function checkConfirmPassword(){
	confirmPassword= document.getElementById("confirmPassword").value;
	password= document.getElementById("password").value;
	//alert(confirmPassword);
	//alert(password);
	if(password.length== 0){
		document.getElementById("renewpass").innerHTML= "Password is empty!";
		errors= false;
	}
	else if(!(confirmPassword== password)){
		document.getElementById("renewpass").innerHTML= "Passwords don't match!";
		errors= false;
	}
	else{
		document.getElementById("renewpass").innerHTML= "";
		errors= true;
	}
}

function validateCurrentPassword()
   {
    currentpassword= document.getElementById("CurrentPassword").value;
	//alert(currentpassword);
	
	if(!(currentpassword=="plymouth"))
	{
	document.getElementById("cpassword").innerHTML= "Invalid Password!";
	}
	else
	{
		document.getElementById("cpassword").innerHTML= "";
	}

   }
function validatePassword()
{
  
  password= document.getElementById("password").value;
  currentpassword= document.getElementById("CurrentPassword").value;
  confirmPassword= document.getElementById("confirmPassword").value;
  if((currentpassword=="plymouth") && (confirmPassword== password) && (!(password.length< 5 || password.length> 10)))
  {
  
 // alert(hello);
   $("#saveModal").modal()
  }
  else
  {
  $("#errorModal").modal();

  }
	 return false;
}
function mouseoverPass() {
  var obj = document.getElementById('password');
  obj.type = "text";
 // alert('hello');
}
function mouseoutPass() {
  var obj = document.getElementById('password');
  obj.type = "password";
}
function mouseoverCurrentPass() {
  var obj = document.getElementById('CurrentPassword');
  obj.type = "text";
 // alert('hello');
}
function mouseoutCurrentPass() {
  var obj = document.getElementById('CurrentPassword');
  obj.type = "password";
}
function mouseoverRetypePass() {
  var obj = document.getElementById('confirmPassword');
  obj.type = "text";
 // alert('hello');
}
function mouseoutRetypePass() {
  var obj = document.getElementById('confirmPassword');
  obj.type = "password";
}
function save(){
	result= "saved!";
	invokeFormSuccess();
}
function invokeFormSuccess(){
	$("#successModal").modal();
	document.getElementById('CurrentPassword').value="";
	document.getElementById('password').value="";
	document.getElementById('confirmPassword').value="";
	document.getElementById('cpassword').innerHTML="";
	document.getElementById('renewpass').innerHTML="";
	document.getElementById('newpass').innerHTML="";
}
</script>

<nav class="navbar navbar-inverse" id="myNavbar">
    	<div class="container">
    		<div class="navbar-header">
    			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-4">
    				<span class="sr-only">Toggle navigation</span>
    				<span class="icon-bar"></span>
    				<span class="icon-bar"></span>
    				<span class="icon-bar"></span>
    			</button>
          <ul class="nav navbar-nav navbar-left">
            <br>
            <li><img src="1.png" alt="Uploded" style="width:120px;height:40px;"></li>
            <li>&nbsp;&nbsp;&nbsp;</li>
            <li><a class="navbar-brand" href="#">NSBM Chess Club</a></li>
          </ul>

    		</div>
        <br>
    		<div class="collapse navbar-collapse" id="navbar-collapse-4">
    			<ul class="nav navbar-nav navbar-right">
    				<li><a href= "NewsFeedViewAdmin.html" class="Home">Home</a></li>
					<li><a href="NewsFeedViewAdmin.html" class="Report">News</a></li>
    				<li><a href= "#" class= "About">About</a></li>
    				<li><a href= "#" class= "Report">You are logged in as <b>Akila Udara</b></a></li>
					<li><a href= "Login.html" class="out">Logout <span class="glyphicon glyphicon-log-out"></span></a></li>
    			</ul>
    		</div>
    	</div>
    </nav>
	</div>
	</div>
	</nav>
    


   <div class= "well headingWell" style= "height: 70px;"><h3 id= "h31" style="text-align:center; margin-top: 5px;">Change Account Password</h3></div>
   <br />
<div class= "container containerForm">
<form id= "loginForm" action= "NewsFeedViewAdmin.html" method= "POST"  onsubmit= "return validatePassword()" onkeyup= "resetErrors()">
<div class= "form-group">
<label for= "userName"> <span class="glyphicon glyphicon-lock"></span>Current Password</label>
<input name= "CurrentPassword" id= "CurrentPassword" type= "password" class= "form-control" onblur= "validateCurrentPassword()" placeholder="Current Password"style="text-align: center;cursor: pointer;"><br />
<i class="fa fa-eye" aria-hidden="true"onmouseover="mouseoverCurrentPass();"onmouseout="mouseoutCurrentPass();" ></i>
<p id="cpassword" style="color:red"></p>

</div>

<div class= "form-group">
<label for= "password"><span class="glyphicon glyphicon-lock"></span>New Password</label>
<input name= "password" id= "password" type= "password" class= "form-control" onblur= "checkPassword()" placeholder="New password" style="text-align: center;cursor: pointer;"><br />
<i class="fa fa-eye" aria-hidden="true"onmouseover="mouseoverPass();"onmouseout="mouseoutPass();" ></i>
<p id="newpass" style="color:red"></p>

</div>

<div class= "form-group">
<label for= "password"><span class="glyphicon glyphicon-lock"></span>Retype Password</label>
<input name= "Re-password" id= "confirmPassword" type= "password" class= "form-control" onblur= "checkConfirmPassword()" placeholder="Retype New password" style="text-align: center;cursor: pointer;"><br />
<i class="fa fa-eye" aria-hidden="true"onmouseover="mouseoverRetypePass();"onmouseout="mouseoutRetypePass();" ></i>
<p id="renewpass" style="color:red"></p>

</div>


<p id="message" style="color:red"></p>
<button name= "submit" type= "submit" class= "btn btn-success button1">Save</button>
<a href="AdminDashboard.html" class="btn btn-danger button1">Cancel</a>

<br/><br/>

<!-- Modal box for the save button-->
<div class= "modal fade" id= "saveModal" role= "dialog">
<div class= "modal-dialog">
    
<div class= "modal-content">
<div class= "modal-header" style="  background-color: #fefbd8;">
<button type= "button" class= "close" data-dismiss= "modal">&times;</button>
<h4 class= "modal-title"><span class= "glyphicon glyphicon-question-sign">&nbsp </span>Confirm Action</h4>
</div>

<div class= "modal-body"><p>Are you sure you want to save?</p></div>

<div class= "modal-footer">
<button type= "button" class= "btn btn-success button1" data-dismiss= "modal" value= "yes" onclick= "save();">Yes</button>
<button type= "button" class= "btn btn-danger button1" data-dismiss= "modal">No</button>
</div>
</div>

</div>
</div>
<!---->

<!-- Modal box for a successful save-->
<div class= "modal fade" id= "successModal" role= "dialog">
<div class= "modal-dialog">
    
<div class= "modal-content">
<div class= "modal-header" style="  background-color: #fefbd8;">
<button type= "button" class= "close" data-dismiss= "modal">&times;</button>
<h4 class= "modal-title"><span class= "glyphicon glyphicon-ok-sign" style= "color: green;">&nbsp </span>Success</h4>
</div>

<div class= "modal-body"><p>Your Password is Changed!</p></div>

<div class= "modal-footer">
<button type= "button" class= "btn btn-default button1" data-dismiss= "modal">Close</button>
</div>
</div>

</div>
</div>
<!---->
<!-- Modal box for form errors-->
<div class= "modal fade" id= "errorModal" role= "dialog">
<div class= "modal-dialog">
    
<div class= "modal-content">
<div class= "modal-header" style="  background-color: #fefbd8;">
<button type= "button" class= "close" data-dismiss= "modal">&times;</button>
<h4 class= "modal-title"><span class= "glyphicon glyphicon-remove-sign" style= "color: red;">&nbsp </span>Error</h4>
</div>

<div class= "modal-body"><p>Invalid form entry</p></div>

<div class= "modal-footer">
<button type= "button" class= "btn btn-default button1" data-dismiss= "modal">Close</button>
</div>
</div>

</div>
</div>
<!---->

</form> 
</div>

<!--Below code processes the login request-->
<div class= "footer" align= "center">
<h5><b>&copy NSBM Chess Club</b></h5>
<h5>Contact Us	&nbsp &nbsp	<span class= "glyphicon glyphicon-phone-alt"></span>&nbsp 0112729729 &nbsp &nbsp &nbsp	<span class= "glyphicon glyphicon-envelope"></span>&nbsp nsbmchessclub@nsbm.lk</h5>
</div>

</body>
</html>